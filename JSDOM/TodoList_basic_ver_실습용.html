<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic:800" rel="stylesheet">
    <link rel="stylesheet" href="./style_basic.css">
</head>
<body>

    <div class="container">
        <h1>Todo List</h1>
        <div class="input-area">
            <input type="text" id="task-input">
            <button class="btn btn-primary" id="add-button" onclick="inputTodo()">추가</button>
        </div>
        <div class="task-area">
            <div id="task-board">

                <div class="task">
                    <span>운동하기</span>
                    <div class="button-area">
                           <button class="btn btn-danger" onclick="deleteList()">삭제</button>
                    </div>
                </div>

                <div class="task">
                    <span>요리하기</span>
                    <div class="button-area">
                        <button class="btn btn-danger">삭제</button>
                    </div>
                </div> 

            </div>
        </div>
    </div>
    
    <!-- JavaScript -->
    <script>
        // 1. input 태그에 적은 값 가져오기!
        // 2. 가져온 값을 div 태그에 <h1>태그로 표현하기
        
        // 사용자가 입력한 값들을 전부 저장
        let todoList = []

        const render = () => {
            // 삭제한 내용을 토대로 다시 출력
            let planList = document.getElementById("task-board")
            let text = ''

            // 배열에 저장된 내용을 토대로 태그형식으로 만들어줌
            for(let i=0; i<todoList.length; i++){
                text += `
                <div class="task">
                    <span>${todoList.value}</span>
                    <div class="button-area">
                        <button class="btn btn-danger" onclick="deleteList()">삭제</button>
                    </div>
                </div> 
                `
            }
            planList.innerHTML = text
        }

        const inputTodo = () => {
            let taskInput = document.getElementById("task-input").value
            todoList.push(taskInput) // 사용자가 입력한 내용을 배열에 저장

            render();
            
            // 3. 사용자가 입력한 내용이 추가가 되었다면 input태그의 내용을 비우고 싶습니다.
            taskInput.value=""
            taskInput.focus(); // 실행위치 조정
    
            // 4. 삭제 버튼 -> 해당하는 내용만 삭제
            // 4-1. innerHTML 출력할 때 리스트를 통해서 출력 될 수 있게
            // 4-2. 삭제버튼이 눌려지면 splice 이용해서 요소 삭제
        }

        //삭제 기능
        const deleteList = (index) => {
            // index -> 삭제 버튼의 위치
            todoList.splice(index, 1)
            
            render();
            
        }
    </script>
</body>
</html>